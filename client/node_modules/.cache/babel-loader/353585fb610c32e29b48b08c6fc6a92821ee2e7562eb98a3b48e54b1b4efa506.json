{"ast":null,"code":"import _objectSpread from\"C:/Users/kukka/OneDrive/Pictures/OneDrive/Desktop/Code_Collab/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/* global loadPyodide */import React,{useEffect,useRef,useState}from'react';import{useParams,useLocation}from'react-router-dom';import Editor from'@monaco-editor/react';import io from'socket.io-client';import Participants from'./Participants';import Chat from'./Chat';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const CodeEditor=()=>{const{roomId}=useParams();const location=useLocation();const[code,setCode]=useState('// Start coding here');const[language,setLanguage]=useState('javascript');const[theme,setTheme]=useState('light');const[participants,setParticipants]=useState([]);const[cursors,setCursors]=useState({});const[typingUsers,setTypingUsers]=useState([]);const[username,setUsername]=useState('');const[avatarColor,setAvatarColor]=useState('');const socketRef=useRef();const editorRef=useRef();const saveTimeoutRef=useRef();useEffect(()=>{document.documentElement.classList.toggle('dark',theme==='dark');},[theme]);useEffect(()=>{const state=location.state;if(state&&state.username&&state.avatarColor){setUsername(state.username);setAvatarColor(state.avatarColor);connectSocket(state.username,state.avatarColor);}else{const promptUsername=prompt('Enter your username:');if(promptUsername){setUsername(promptUsername);const colors=['#FF6B6B','#4ECDC4','#45B7D1','#96CEB4','#FFEAA7','#DDA0DD'];const color=colors[Math.floor(Math.random()*colors.length)];setAvatarColor(color);connectSocket(promptUsername,color);}}},[roomId,location]);const connectSocket=(user,color)=>{const socket=io('http://localhost:5000');socketRef.current=socket;socket.emit('join-room',{roomId,username:user,avatarColor:color});socket.on('room-joined',data=>{setCode(data.code);setLanguage(data.language);setParticipants(data.participants);});socket.on('code-updated',data=>{setCode(data.code);});socket.on('cursor-moved',data=>{setCursors(prev=>_objectSpread(_objectSpread({},prev),{},{[data.socketId]:data}));});socket.on('user-joined',data=>{setParticipants(prev=>[...prev,data]);});socket.on('user-left',data=>{setParticipants(prev=>prev.filter(p=>p.socketId!==data.socketId));setCursors(prev=>{const newCursors=_objectSpread({},prev);delete newCursors[data.socketId];return newCursors;});});socket.on('user-typing',data=>{setTypingUsers(prev=>[...prev,data.socketId]);});socket.on('user-stopped-typing',data=>{setTypingUsers(prev=>prev.filter(id=>id!==data.socketId));});socket.on('chat-message',data=>{// Handle in Chat component\n});return()=>{socket.emit('leave-room');socket.disconnect();};};const handleEditorDidMount=(editor,monaco)=>{editorRef.current=editor;// Add cursor decorations for other users\nmonaco.editor.defineTheme('custom-light',{base:'vs',inherit:true,rules:[],colors:{'editor.background':'#f3f4f6'}});monaco.editor.defineTheme('custom-dark',{base:'vs-dark',inherit:true,rules:[],colors:{'editor.background':'#1e1e1e','editor.foreground':'#d4d4d4'}});monaco.editor.setTheme(theme==='dark'?'custom-dark':'custom-light');};const toggleTheme=()=>{setTheme(prev=>prev==='light'?'dark':'light');};const handleRunCode=async()=>{if(language==='javascript'){const iframe=document.createElement('iframe');iframe.style.display='none';iframe.sandbox='allow-scripts';document.body.appendChild(iframe);const doc=iframe.contentDocument||iframe.contentWindow.document;doc.open();doc.write(\"\\n        <html>\\n          <head><title>JS Output</title></head>\\n          <body>\\n            <script>\\n              try {\\n                \".concat(code,\"\\n              } catch (e) {\\n                document.body.innerHTML = '<pre style=\\\"color: red;\\\">Error: ' + e.message + '</pre>';\\n              }\\n            </script>\\n          </body>\\n        </html>\\n      \"));doc.close();setTimeout(()=>{const output=iframe.contentWindow.document.body.innerHTML;alert('JS Output:\\n'+output);document.body.removeChild(iframe);},100);}else if(language==='html'){const blob=new Blob([code],{type:'text/html'});const url=URL.createObjectURL(blob);window.open(url,'_blank');}else if(language==='css'){const htmlWithCss=\"\\n        <html>\\n          <head>\\n            <style>\\n              \".concat(code,\"\\n            </style>\\n          </head>\\n          <body style=\\\"margin: 20px; font-family: Arial, sans-serif;\\\">\\n            <h1>CSS Preview</h1>\\n            <p>This is a sample body to preview your CSS styles.</p>\\n            <div class=\\\"sample\\\">Sample div for styling.</div>\\n          </body>\\n        </html>\\n      \");const blob=new Blob([htmlWithCss],{type:'text/html'});const url=URL.createObjectURL(blob);window.open(url,'_blank');}else if(language==='python'){if(typeof loadPyodide==='undefined'){alert('Loading Python interpreter... Please wait and click Run again.');const script=document.createElement('script');script.src='https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js';document.head.appendChild(script);script.onload=()=>{// Call handleRunCode again after loading\nsetTimeout(handleRunCode,5000);// Give time for load\n};return;}if(!window.pyodide){try{window.pyodide=await loadPyodide({indexURL:'https://cdn.jsdelivr.net/pyodide/v0.23.4/full/'});}catch(e){alert('Failed to load Python interpreter: '+e.message);return;}}try{// Redirect stdout\nawait window.pyodide.runPythonAsync(\"\\n          import sys\\n          from io import StringIO\\n          old_stdout = sys.stdout\\n          sys.stdout = mystdout = StringIO()\\n        \");await window.pyodide.runPythonAsync(code);const output=await window.pyodide.runPythonAsync('mystdout.getvalue()');await window.pyodide.runPythonAsync('sys.stdout = old_stdout');alert('Python Output:\\n'+(output||'No output (use print() for output).'));}catch(e){alert('Python Error: '+e.message);}}};const handleCodeChange=value=>{setCode(value);if(socketRef.current){socketRef.current.emit('code-change',{roomId,code:value,timestamp:Date.now()});// Auto-save every 30 seconds\nif(saveTimeoutRef.current)clearTimeout(saveTimeoutRef.current);saveTimeoutRef.current=setTimeout(()=>{socketRef.current.emit('save-snapshot',{roomId,code:value});},30000);}};const handleCursorChange=e=>{if(socketRef.current&&e){socketRef.current.emit('cursor-update',{roomId,position:e.position,selection:e.selection});}};const handleTypingStart=()=>{if(socketRef.current){socketRef.current.emit('typing-start',{roomId});}};const handleTypingStop=()=>{if(socketRef.current){socketRef.current.emit('typing-stop',{roomId});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen flex flex-col \".concat(theme==='dark'?'bg-gray-900':'bg-gray-100'),children:[/*#__PURE__*/_jsxs(\"header\",{className:\"shadow px-4 py-2 flex justify-between items-center \".concat(theme==='dark'?'bg-gray-800 text-white':'bg-white'),children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-xl font-bold\",children:[\"Room: \",roomId]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:toggleTheme,className:\"px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded text-sm\",children:[theme==='dark'?'Light':'Dark',\" Mode\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRunCode,className:\"px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600\",children:\"Run\"}),/*#__PURE__*/_jsxs(\"select\",{value:language,onChange:e=>setLanguage(e.target.value),className:\"border rounded px-2 py-1 dark:bg-gray-700 dark:border-gray-600\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"javascript\",children:\"JavaScript\"}),/*#__PURE__*/_jsx(\"option\",{value:\"python\",children:\"Python\"}),/*#__PURE__*/_jsx(\"option\",{value:\"html\",children:\"HTML\"}),/*#__PURE__*/_jsx(\"option\",{value:\"css\",children:\"CSS\"})]}),/*#__PURE__*/_jsx(Participants,{participants:participants})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-1 overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(Editor,{height:\"100%\",language:language,value:code,onChange:handleCodeChange,onMount:handleEditorDidMount,theme:theme==='dark'?'vs-dark':'vs',options:{minimap:{enabled:false},fontSize:14,lineNumbers:'on',roundedSelection:false,scrollBeyondLastLine:false,automaticLayout:true},onMouseDown:handleTypingStart,onKeyDown:handleTypingStart,onKeyUp:handleTypingStop,onMouseUp:handleTypingStop}),typingUsers.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-2 right-2 px-2 py-1 rounded text-sm \".concat(theme==='dark'?'bg-yellow-800 text-yellow-200':'bg-yellow-200'),children:[typingUsers.length,\" user(s) typing...\"]})]}),/*#__PURE__*/_jsx(Chat,{socket:socketRef.current,roomId:roomId,username:username,theme:theme})]})]});};export default CodeEditor;","map":{"version":3,"names":["React","useEffect","useRef","useState","useParams","useLocation","Editor","io","Participants","Chat","jsxs","_jsxs","jsx","_jsx","CodeEditor","roomId","location","code","setCode","language","setLanguage","theme","setTheme","participants","setParticipants","cursors","setCursors","typingUsers","setTypingUsers","username","setUsername","avatarColor","setAvatarColor","socketRef","editorRef","saveTimeoutRef","document","documentElement","classList","toggle","state","connectSocket","promptUsername","prompt","colors","color","Math","floor","random","length","user","socket","current","emit","on","data","prev","_objectSpread","socketId","filter","p","newCursors","id","disconnect","handleEditorDidMount","editor","monaco","defineTheme","base","inherit","rules","toggleTheme","handleRunCode","iframe","createElement","style","display","sandbox","body","appendChild","doc","contentDocument","contentWindow","open","write","concat","close","setTimeout","output","innerHTML","alert","removeChild","blob","Blob","type","url","URL","createObjectURL","window","htmlWithCss","loadPyodide","script","src","head","onload","pyodide","indexURL","e","message","runPythonAsync","handleCodeChange","value","timestamp","Date","now","clearTimeout","handleCursorChange","position","selection","handleTypingStart","handleTypingStop","className","children","onClick","onChange","target","height","onMount","options","minimap","enabled","fontSize","lineNumbers","roundedSelection","scrollBeyondLastLine","automaticLayout","onMouseDown","onKeyDown","onKeyUp","onMouseUp"],"sources":["C:/Users/kukka/OneDrive/Pictures/OneDrive/Desktop/Code_Collab/client/src/components/Editor/Editor.js"],"sourcesContent":["/* global loadPyodide */\r\n\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\nimport Editor from '@monaco-editor/react';\r\nimport io from 'socket.io-client';\r\nimport Participants from './Participants';\r\nimport Chat from './Chat';\r\n\r\nconst CodeEditor = () => {\r\n  const { roomId } = useParams();\r\n  const location = useLocation();\r\n  const [code, setCode] = useState('// Start coding here');\r\n  const [language, setLanguage] = useState('javascript');\r\n  const [theme, setTheme] = useState('light');\r\n  const [participants, setParticipants] = useState([]);\r\n  const [cursors, setCursors] = useState({});\r\n  const [typingUsers, setTypingUsers] = useState([]);\r\n  const [username, setUsername] = useState('');\r\n  const [avatarColor, setAvatarColor] = useState('');\r\n  const socketRef = useRef();\r\n  const editorRef = useRef();\r\n  const saveTimeoutRef = useRef();\r\n\r\n  useEffect(() => {\r\n    document.documentElement.classList.toggle('dark', theme === 'dark');\r\n  }, [theme]);\r\n\r\n  useEffect(() => {\r\n    const state = location.state;\r\n    if (state && state.username && state.avatarColor) {\r\n      setUsername(state.username);\r\n      setAvatarColor(state.avatarColor);\r\n      connectSocket(state.username, state.avatarColor);\r\n    } else {\r\n      const promptUsername = prompt('Enter your username:');\r\n      if (promptUsername) {\r\n        setUsername(promptUsername);\r\n        const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#DDA0DD'];\r\n        const color = colors[Math.floor(Math.random() * colors.length)];\r\n        setAvatarColor(color);\r\n        connectSocket(promptUsername, color);\r\n      }\r\n    }\r\n  }, [roomId, location]);\r\n\r\n  const connectSocket = (user, color) => {\r\n    const socket = io('http://localhost:5000');\r\n    socketRef.current = socket;\r\n\r\n    socket.emit('join-room', {\r\n      roomId,\r\n      username: user,\r\n      avatarColor: color\r\n    });\r\n\r\n    socket.on('room-joined', (data) => {\r\n      setCode(data.code);\r\n      setLanguage(data.language);\r\n      setParticipants(data.participants);\r\n    });\r\n\r\n    socket.on('code-updated', (data) => {\r\n      setCode(data.code);\r\n    });\r\n\r\n    socket.on('cursor-moved', (data) => {\r\n      setCursors(prev => ({ ...prev, [data.socketId]: data }));\r\n    });\r\n\r\n    socket.on('user-joined', (data) => {\r\n      setParticipants(prev => [...prev, data]);\r\n    });\r\n\r\n    socket.on('user-left', (data) => {\r\n      setParticipants(prev => prev.filter(p => p.socketId !== data.socketId));\r\n      setCursors(prev => {\r\n        const newCursors = { ...prev };\r\n        delete newCursors[data.socketId];\r\n        return newCursors;\r\n      });\r\n    });\r\n\r\n    socket.on('user-typing', (data) => {\r\n      setTypingUsers(prev => [...prev, data.socketId]);\r\n    });\r\n\r\n    socket.on('user-stopped-typing', (data) => {\r\n      setTypingUsers(prev => prev.filter(id => id !== data.socketId));\r\n    });\r\n\r\n    socket.on('chat-message', (data) => {\r\n      // Handle in Chat component\r\n    });\r\n\r\n    return () => {\r\n      socket.emit('leave-room');\r\n      socket.disconnect();\r\n    };\r\n  };\r\n\r\n  const handleEditorDidMount = (editor, monaco) => {\r\n    editorRef.current = editor;\r\n    // Add cursor decorations for other users\r\n    monaco.editor.defineTheme('custom-light', {\r\n      base: 'vs',\r\n      inherit: true,\r\n      rules: [],\r\n      colors: {\r\n        'editor.background': '#f3f4f6',\r\n      }\r\n    });\r\n    monaco.editor.defineTheme('custom-dark', {\r\n      base: 'vs-dark',\r\n      inherit: true,\r\n      rules: [],\r\n      colors: {\r\n        'editor.background': '#1e1e1e',\r\n        'editor.foreground': '#d4d4d4',\r\n      }\r\n    });\r\n    monaco.editor.setTheme(theme === 'dark' ? 'custom-dark' : 'custom-light');\r\n  };\r\n\r\n  const toggleTheme = () => {\r\n    setTheme(prev => prev === 'light' ? 'dark' : 'light');\r\n  };\r\n\r\n  const handleRunCode = async () => {\r\n    if (language === 'javascript') {\r\n      const iframe = document.createElement('iframe');\r\n      iframe.style.display = 'none';\r\n      iframe.sandbox = 'allow-scripts';\r\n      document.body.appendChild(iframe);\r\n      const doc = iframe.contentDocument || iframe.contentWindow.document;\r\n      doc.open();\r\n      doc.write(`\r\n        <html>\r\n          <head><title>JS Output</title></head>\r\n          <body>\r\n            <script>\r\n              try {\r\n                ${code}\r\n              } catch (e) {\r\n                document.body.innerHTML = '<pre style=\"color: red;\">Error: ' + e.message + '</pre>';\r\n              }\r\n            </script>\r\n          </body>\r\n        </html>\r\n      `);\r\n      doc.close();\r\n      setTimeout(() => {\r\n        const output = iframe.contentWindow.document.body.innerHTML;\r\n        alert('JS Output:\\n' + output);\r\n        document.body.removeChild(iframe);\r\n      }, 100);\r\n    } else if (language === 'html') {\r\n      const blob = new Blob([code], { type: 'text/html' });\r\n      const url = URL.createObjectURL(blob);\r\n      window.open(url, '_blank');\r\n    } else if (language === 'css') {\r\n      const htmlWithCss = `\r\n        <html>\r\n          <head>\r\n            <style>\r\n              ${code}\r\n            </style>\r\n          </head>\r\n          <body style=\"margin: 20px; font-family: Arial, sans-serif;\">\r\n            <h1>CSS Preview</h1>\r\n            <p>This is a sample body to preview your CSS styles.</p>\r\n            <div class=\"sample\">Sample div for styling.</div>\r\n          </body>\r\n        </html>\r\n      `;\r\n      const blob = new Blob([htmlWithCss], { type: 'text/html' });\r\n      const url = URL.createObjectURL(blob);\r\n      window.open(url, '_blank');\r\n    } else if (language === 'python') {\r\n      if (typeof loadPyodide === 'undefined') {\r\n        alert('Loading Python interpreter... Please wait and click Run again.');\r\n        const script = document.createElement('script');\r\n        script.src = 'https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js';\r\n        document.head.appendChild(script);\r\n        script.onload = () => {\r\n          // Call handleRunCode again after loading\r\n          setTimeout(handleRunCode, 5000); // Give time for load\r\n        };\r\n        return;\r\n      }\r\n      if (!window.pyodide) {\r\n        try {\r\n          window.pyodide = await loadPyodide({\r\n            indexURL: 'https://cdn.jsdelivr.net/pyodide/v0.23.4/full/'\r\n          });\r\n        } catch (e) {\r\n          alert('Failed to load Python interpreter: ' + e.message);\r\n          return;\r\n        }\r\n      }\r\n      try {\r\n        // Redirect stdout\r\n        await window.pyodide.runPythonAsync(`\r\n          import sys\r\n          from io import StringIO\r\n          old_stdout = sys.stdout\r\n          sys.stdout = mystdout = StringIO()\r\n        `);\r\n        await window.pyodide.runPythonAsync(code);\r\n        const output = await window.pyodide.runPythonAsync('mystdout.getvalue()');\r\n        await window.pyodide.runPythonAsync('sys.stdout = old_stdout');\r\n        alert('Python Output:\\n' + (output || 'No output (use print() for output).'));\r\n      } catch (e) {\r\n        alert('Python Error: ' + e.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCodeChange = (value) => {\r\n    setCode(value);\r\n    if (socketRef.current) {\r\n      socketRef.current.emit('code-change', {\r\n        roomId,\r\n        code: value,\r\n        timestamp: Date.now()\r\n      });\r\n      // Auto-save every 30 seconds\r\n      if (saveTimeoutRef.current) clearTimeout(saveTimeoutRef.current);\r\n      saveTimeoutRef.current = setTimeout(() => {\r\n        socketRef.current.emit('save-snapshot', { roomId, code: value });\r\n      }, 30000);\r\n    }\r\n  };\r\n\r\n  const handleCursorChange = (e) => {\r\n    if (socketRef.current && e) {\r\n      socketRef.current.emit('cursor-update', {\r\n        roomId,\r\n        position: e.position,\r\n        selection: e.selection\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleTypingStart = () => {\r\n    if (socketRef.current) {\r\n      socketRef.current.emit('typing-start', { roomId });\r\n    }\r\n  };\r\n\r\n  const handleTypingStop = () => {\r\n    if (socketRef.current) {\r\n      socketRef.current.emit('typing-stop', { roomId });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`h-screen flex flex-col ${theme === 'dark' ? 'bg-gray-900' : 'bg-gray-100'}`}>\r\n      <header className={`shadow px-4 py-2 flex justify-between items-center ${theme === 'dark' ? 'bg-gray-800 text-white' : 'bg-white'}`}>\r\n        <h1 className=\"text-xl font-bold\">Room: {roomId}</h1>\r\n        <div className=\"flex items-center space-x-4\">\r\n          <button\r\n            onClick={toggleTheme}\r\n            className=\"px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded text-sm\"\r\n          >\r\n            {theme === 'dark' ? 'Light' : 'Dark'} Mode\r\n          </button>\r\n          <button\r\n            onClick={handleRunCode}\r\n            className=\"px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600\"\r\n          >\r\n            Run\r\n          </button>\r\n          <select\r\n            value={language}\r\n            onChange={(e) => setLanguage(e.target.value)}\r\n            className=\"border rounded px-2 py-1 dark:bg-gray-700 dark:border-gray-600\"\r\n          >\r\n            <option value=\"javascript\">JavaScript</option>\r\n            <option value=\"python\">Python</option>\r\n            <option value=\"html\">HTML</option>\r\n            <option value=\"css\">CSS</option>\r\n          </select>\r\n          <Participants participants={participants} />\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"flex flex-1 overflow-hidden\">\r\n        <div className=\"flex-1 relative\">\r\n          <Editor\r\n            height=\"100%\"\r\n            language={language}\r\n            value={code}\r\n            onChange={handleCodeChange}\r\n            onMount={handleEditorDidMount}\r\n            theme={theme === 'dark' ? 'vs-dark' : 'vs'}\r\n            options={{\r\n              minimap: { enabled: false },\r\n              fontSize: 14,\r\n              lineNumbers: 'on',\r\n              roundedSelection: false,\r\n              scrollBeyondLastLine: false,\r\n              automaticLayout: true,\r\n            }}\r\n            onMouseDown={handleTypingStart}\r\n            onKeyDown={handleTypingStart}\r\n            onKeyUp={handleTypingStop}\r\n            onMouseUp={handleTypingStop}\r\n          />\r\n          {typingUsers.length > 0 && (\r\n            <div className={`absolute top-2 right-2 px-2 py-1 rounded text-sm ${theme === 'dark' ? 'bg-yellow-800 text-yellow-200' : 'bg-yellow-200'}`}>\r\n              {typingUsers.length} user(s) typing...\r\n            </div>\r\n          )}\r\n        </div>\r\n        <Chat socket={socketRef.current} roomId={roomId} username={username} theme={theme} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CodeEditor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}