{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[roomId,setRoomId]=useState('');const[username,setUsername]=useState('');const[error,setError]=useState('');const[createLoading,setCreateLoading]=useState(false);const[joinLoading,setJoinLoading]=useState(false);const navigate=useNavigate();const handleCreateRoom=async()=>{const promptUsername=prompt('Enter your username for the new room:');if(!promptUsername){setError('Username required to create room');return;}setCreateLoading(true);setError('');try{const response=await axios.post('http://localhost:5000/api/rooms/create',{name:'New Project',language:'javascript'});const colors=['#FF6B6B','#4ECDC4','#45B7D1','#96CEB4','#FFEAA7','#DDA0DD'];const avatarColor=colors[Math.floor(Math.random()*colors.length)];navigate(\"/editor/\".concat(response.data.roomId),{state:{username:promptUsername.trim(),avatarColor}});}catch(err){var _err$response,_err$response$data;const errorMsg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message||'Failed to create room. Please ensure the server is running on port 5000.';setError(errorMsg);}finally{setCreateLoading(false);}};const handleJoinRoom=async()=>{if(!roomId.trim()||!username.trim()){setError('Please enter room ID and username');return;}setJoinLoading(true);setError('');try{const response=await axios.post('http://localhost:5000/api/rooms/join',{roomId:roomId.trim(),username:username.trim()});navigate(\"/editor/\".concat(roomId.trim()),{state:{username:username.trim(),avatarColor:response.data.avatarColor}});}catch(err){var _err$response2,_err$response2$data;const errorMsg=((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||err.message||'Failed to join room. Please check the room ID and ensure the server is running.';setError(errorMsg);}finally{setJoinLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",style:{backgroundImage:'url(/pexels-carlos-oliva-1966452-3586966.jpg)',backgroundSize:'cover',backgroundPosition:'center'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full bg-gray-800/70 backdrop-blur-sm rounded-lg shadow-md p-8\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold text-center text-white mb-8 flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2 text-2xl\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://png.pngtree.com/element_our/png_detail/20181013/code-icon-design-vector-png_125856.jpg\",class:\"img-fluid rounded-top\",alt:\"Code Icon\",className:\"w-8 rounded-full\"})}),\"Code Collab\"]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 mb-4 text-center\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateRoom,disabled:createLoading,className:\"w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-3 px-4 rounded-md hover:from-purple-600 hover:to-pink-600 disabled:opacity-50\",children:createLoading?'Creating...':'Create New Room'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-400\",children:\"or\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Room ID\",value:roomId,onChange:e=>setRoomId(e.target.value),className:\"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400 mb-4 bg-gray-700 text-white placeholder-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Username\",value:username,onChange:e=>setUsername(e.target.value),className:\"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400 mb-4 bg-gray-700 text-white placeholder-gray-400\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleJoinRoom,disabled:joinLoading,className:\"w-full bg-gradient-to-r from-blue-700 to-cyan-500 text-white py-3 px-4 rounded-md hover:from-blue-900 hover:to-cyan-600 disabled:opacity-50\",children:joinLoading?'Joining...':'Join Room'})]})]})]})});};export default Dashboard;","map":{"version":3,"names":["React","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Dashboard","roomId","setRoomId","username","setUsername","error","setError","createLoading","setCreateLoading","joinLoading","setJoinLoading","navigate","handleCreateRoom","promptUsername","prompt","response","post","name","language","colors","avatarColor","Math","floor","random","length","concat","data","state","trim","err","_err$response","_err$response$data","errorMsg","message","handleJoinRoom","_err$response2","_err$response2$data","className","style","backgroundImage","backgroundSize","backgroundPosition","children","src","class","alt","onClick","disabled","type","placeholder","value","onChange","e","target"],"sources":["C:/Users/kukka/OneDrive/Pictures/OneDrive/Desktop/Code_Collab/client/src/components/Dashboard.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst Dashboard = () => {\r\n  const [roomId, setRoomId] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [createLoading, setCreateLoading] = useState(false);\r\n  const [joinLoading, setJoinLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleCreateRoom = async () => {\r\n    const promptUsername = prompt('Enter your username for the new room:');\r\n    if (!promptUsername) {\r\n      setError('Username required to create room');\r\n      return;\r\n    }\r\n    setCreateLoading(true);\r\n    setError('');\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/rooms/create', {\r\n        name: 'New Project',\r\n        language: 'javascript'\r\n      });\r\n      const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#DDA0DD'];\r\n      const avatarColor = colors[Math.floor(Math.random() * colors.length)];\r\n      navigate(`/editor/${response.data.roomId}`, { state: { username: promptUsername.trim(), avatarColor } });\r\n    } catch (err) {\r\n      const errorMsg = err.response?.data?.message || err.message || 'Failed to create room. Please ensure the server is running on port 5000.';\r\n      setError(errorMsg);\r\n    } finally {\r\n      setCreateLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleJoinRoom = async () => {\r\n    if (!roomId.trim() || !username.trim()) {\r\n      setError('Please enter room ID and username');\r\n      return;\r\n    }\r\n    setJoinLoading(true);\r\n    setError('');\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/rooms/join', { roomId: roomId.trim(), username: username.trim() });\r\n      navigate(`/editor/${roomId.trim()}`, { state: { username: username.trim(), avatarColor: response.data.avatarColor } });\r\n    } catch (err) {\r\n      const errorMsg = err.response?.data?.message || err.message || 'Failed to join room. Please check the room ID and ensure the server is running.';\r\n      setError(errorMsg);\r\n    } finally {\r\n      setJoinLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center\" style={{ backgroundImage: 'url(/pexels-carlos-oliva-1966452-3586966.jpg)', backgroundSize: 'cover', backgroundPosition: 'center' }}>\r\n      <div className=\"max-w-md w-full bg-gray-800/70 backdrop-blur-sm rounded-lg shadow-md p-8\">\r\n        <h1 className=\"text-3xl font-bold text-center text-white mb-8 flex items-center justify-center\"><span className=\"mr-2 text-2xl\"><img\r\n          src=\"https://png.pngtree.com/element_our/png_detail/20181013/code-icon-design-vector-png_125856.jpg\"class=\"img-fluid rounded-top\" alt=\"Code Icon\" className='w-8 rounded-full'/></span>Code Collab</h1>\r\n\r\n        {error && <div className=\"text-red-400 mb-4 text-center\">{error}</div>}\r\n\r\n        <div className=\"space-y-6\">\r\n          <button\r\n            onClick={handleCreateRoom}\r\n            disabled={createLoading}\r\n            className=\"w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-3 px-4 rounded-md hover:from-purple-600 hover:to-pink-600 disabled:opacity-50\"\r\n          >\r\n            {createLoading ? 'Creating...' : 'Create New Room'}\r\n          </button>\r\n\r\n          <div className=\"text-center text-gray-400\">or</div>\r\n\r\n          <div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter Room ID\"\r\n              value={roomId}\r\n              onChange={(e) => setRoomId(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400 mb-4 bg-gray-700 text-white placeholder-gray-400\"\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter Username\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400 mb-4 bg-gray-700 text-white placeholder-gray-400\"\r\n            />\r\n            <button\r\n              onClick={handleJoinRoom}\r\n              disabled={joinLoading}\r\n              className=\"w-full bg-gradient-to-r from-blue-700 to-cyan-500 text-white py-3 px-4 rounded-md hover:from-blue-900 hover:to-cyan-600 disabled:opacity-50\"\r\n            >\r\n              {joinLoading ? 'Joining...' : 'Join Room'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}