{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[roomId,setRoomId]=useState('');const[username,setUsername]=useState('');const[error,setError]=useState('');const[createLoading,setCreateLoading]=useState(false);const[joinLoading,setJoinLoading]=useState(false);const navigate=useNavigate();const handleCreateRoom=async()=>{const promptUsername=prompt('Enter your username for the new room:');if(!promptUsername){setError('Username required to create room');return;}setCreateLoading(true);setError('');try{const response=await axios.post('http://localhost:5000/api/rooms/create',{name:'New Project',language:'javascript'});const colors=['#FF6B6B','#4ECDC4','#45B7D1','#96CEB4','#FFEAA7','#DDA0DD'];const avatarColor=colors[Math.floor(Math.random()*colors.length)];navigate(\"/editor/\".concat(response.data.roomId),{state:{username:promptUsername.trim(),avatarColor}});}catch(err){setError('Failed to create room');}finally{setCreateLoading(false);}};const handleJoinRoom=async()=>{if(!roomId.trim()||!username.trim()){setError('Please enter room ID and username');return;}setJoinLoading(true);setError('');try{const response=await axios.post('http://localhost:5000/api/rooms/join',{roomId:roomId.trim(),username:username.trim()});navigate(\"/editor/\".concat(roomId.trim()),{state:{username:username.trim(),avatarColor:response.data.avatarColor}});}catch(err){setError('Failed to join room');}finally{setJoinLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full bg-white rounded-lg shadow-md p-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-center text-gray-900 mb-8\",children:\"Code Collab\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 mb-4 text-center\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateRoom,disabled:createLoading,className:\"w-full bg-indigo-600 text-white py-3 px-4 rounded-md hover:bg-indigo-700 disabled:opacity-50\",children:createLoading?'Creating...':'Create New Room'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-500\",children:\"or\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Room ID\",value:roomId,onChange:e=>setRoomId(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-4\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Username\",value:username,onChange:e=>setUsername(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-4\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleJoinRoom,disabled:joinLoading,className:\"w-full bg-green-600 text-white py-3 px-4 rounded-md hover:bg-green-700 disabled:opacity-50\",children:joinLoading?'Joining...':'Join Room'})]})]})]})});};export default Dashboard;","map":{"version":3,"names":["React","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Dashboard","roomId","setRoomId","username","setUsername","error","setError","createLoading","setCreateLoading","joinLoading","setJoinLoading","navigate","handleCreateRoom","promptUsername","prompt","response","post","name","language","colors","avatarColor","Math","floor","random","length","concat","data","state","trim","err","handleJoinRoom","className","children","onClick","disabled","type","placeholder","value","onChange","e","target"],"sources":["C:/Users/kukka/OneDrive/Pictures/OneDrive/Desktop/Code_Collab/client/src/components/Dashboard.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst Dashboard = () => {\r\n  const [roomId, setRoomId] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [createLoading, setCreateLoading] = useState(false);\r\n  const [joinLoading, setJoinLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleCreateRoom = async () => {\r\n    const promptUsername = prompt('Enter your username for the new room:');\r\n    if (!promptUsername) {\r\n      setError('Username required to create room');\r\n      return;\r\n    }\r\n    setCreateLoading(true);\r\n    setError('');\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/rooms/create', {\r\n        name: 'New Project',\r\n        language: 'javascript'\r\n      });\r\n      const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#DDA0DD'];\r\n      const avatarColor = colors[Math.floor(Math.random() * colors.length)];\r\n      navigate(`/editor/${response.data.roomId}`, { state: { username: promptUsername.trim(), avatarColor } });\r\n    } catch (err) {\r\n      setError('Failed to create room');\r\n    } finally {\r\n      setCreateLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleJoinRoom = async () => {\r\n    if (!roomId.trim() || !username.trim()) {\r\n      setError('Please enter room ID and username');\r\n      return;\r\n    }\r\n    setJoinLoading(true);\r\n    setError('');\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/rooms/join', { roomId: roomId.trim(), username: username.trim() });\r\n      navigate(`/editor/${roomId.trim()}`, { state: { username: username.trim(), avatarColor: response.data.avatarColor } });\r\n    } catch (err) {\r\n      setError('Failed to join room');\r\n    } finally {\r\n      setJoinLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\r\n      <div className=\"max-w-md w-full bg-white rounded-lg shadow-md p-8\">\r\n        <h1 className=\"text-3xl font-bold text-center text-gray-900 mb-8\">Code Collab</h1>\r\n        \r\n        {error && <div className=\"text-red-600 mb-4 text-center\">{error}</div>}\r\n\r\n        <div className=\"space-y-6\">\r\n          <button\r\n            onClick={handleCreateRoom}\r\n            disabled={createLoading}\r\n            className=\"w-full bg-indigo-600 text-white py-3 px-4 rounded-md hover:bg-indigo-700 disabled:opacity-50\"\r\n          >\r\n            {createLoading ? 'Creating...' : 'Create New Room'}\r\n          </button>\r\n\r\n          <div className=\"text-center text-gray-500\">or</div>\r\n\r\n          <div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter Room ID\"\r\n              value={roomId}\r\n              onChange={(e) => setRoomId(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-4\"\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter Username\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-4\"\r\n            />\r\n            <button\r\n              onClick={handleJoinRoom}\r\n              disabled={joinLoading}\r\n              className=\"w-full bg-green-600 text-white py-3 px-4 rounded-md hover:bg-green-700 disabled:opacity-50\"\r\n            >\r\n              {joinLoading ? 'Joining...' : 'Join Room'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}