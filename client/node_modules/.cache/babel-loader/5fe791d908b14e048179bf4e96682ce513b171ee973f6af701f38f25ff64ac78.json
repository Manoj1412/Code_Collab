{"ast":null,"code":"import _objectSpread from\"C:/Users/kukka/OneDrive/Pictures/OneDrive/Desktop/Code_Collab/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useRef,useState}from'react';import{useParams,useLocation}from'react-router-dom';import Editor from'@monaco-editor/react';import io from'socket.io-client';import axios from'axios';import Participants from'./Participants';import Chat from'./Chat';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const LANGUAGES=['javascript','python','c','cpp','java','text'];const DEFAULT_CODES={javascript:'// Start coding here',python:'# Start coding here',c:'/* Start coding here */',cpp:'// Start coding here',java:'// Start coding here',text:''};const CodeEditor=()=>{const{roomId}=useParams();const location=useLocation();const[codes,setCodes]=useState(_objectSpread({},DEFAULT_CODES));const[language,setLanguage]=useState('javascript');const[theme,setTheme]=useState('dark');const[participants,setParticipants]=useState([]);const[typingUsers,setTypingUsers]=useState([]);const[username,setUsername]=useState('');const[output,setOutput]=useState('');const[isRunning,setIsRunning]=useState(false);const socketRef=useRef();const editorRef=useRef();const saveTimeoutRef=useRef();// Add state for pyodide loading and instance\nconst[pyodideLoaded,setPyodideLoaded]=useState(false);const[pyodideInstance,setPyodideInstance]=useState(null);// Get current code for selected language\nconst code=codes[language];useEffect(()=>{document.documentElement.classList.toggle('dark',theme==='dark');},[theme]);// Pyodide loader (you will fix this part yourself)\nuseEffect(()=>{async function loadPyodideScript(){// ...your pyodide loader here...\n}loadPyodideScript();},[]);useEffect(()=>{const state=location.state;let cleanup;try{if(state&&state.username&&state.avatarColor){setUsername(state.username);cleanup=connectSocket(state.username,state.avatarColor);}else{const promptUsername=prompt('Enter your username:');if(promptUsername){setUsername(promptUsername);const colors=['#FF6B6B','#4ECDC4','#45B7D1','#96CEB4','#FFEAA7','#DDA0DD'];const color=colors[Math.floor(Math.random()*colors.length)];cleanup=connectSocket(promptUsername,color);}}}catch(err){console.error('Failed to initialize editor:',err);alert('Failed to connect to the room. Please check if the server is running on port 5000 and try again.');}return cleanup||(()=>{});},[roomId]);const connectSocket=(user,color)=>{try{const socket=io('http://localhost:5000');socketRef.current=socket;socket.emit('join-room',{roomId,username:user,avatarColor:color});socket.on('room-joined',data=>{try{setCodes(data.codes||_objectSpread({},DEFAULT_CODES));setLanguage(data.language||'javascript');setParticipants(data.participants);}catch(e){console.error('Error handling room-joined:',e);}});socket.on('code-updated',data=>{try{setCodes(prev=>_objectSpread(_objectSpread({},prev),{},{[data.language]:data.code}));}catch(e){console.error('Error handling code-updated:',e);}});socket.on('cursor-moved',data=>{try{// Cursor handling removed\n}catch(e){console.error('Error handling cursor-moved:',e);}});socket.on('user-joined',data=>{try{setParticipants(prev=>{if(prev.find(p=>p.socketId===data.socketId)){return prev;}return[...prev,data];});}catch(e){console.error('Error handling user-joined:',e);}});socket.on('user-left',data=>{try{setParticipants(prev=>prev.filter(p=>p.socketId!==data.socketId));}catch(e){console.error('Error handling user-left:',e);}});socket.on('user-typing',data=>{try{setTypingUsers(prev=>[...prev,data.socketId]);}catch(e){console.error('Error handling user-typing:',e);}});socket.on('user-stopped-typing',data=>{try{setTypingUsers(prev=>prev.filter(id=>id!==data.socketId));}catch(e){console.error('Error handling user-stopped-typing:',e);}});socket.on('error',data=>{try{console.error('Socket error:',data.message);alert('Connection error: '+data.message);}catch(e){console.error('Error in error handler:',e);}});socket.on('connect_error',err=>{try{console.error('Connection error:',err);alert('Failed to connect to server: '+err.message+'. Please ensure the server is running on port 5000.');}catch(e){console.error('Error in connect_error handler:',e);}});return()=>{if(socketRef.current){socketRef.current.emit('leave-room');socketRef.current.disconnect();}};}catch(err){console.error('Failed to create socket connection:',err);alert('Failed to establish real-time connection. You can still edit locally, but collaboration features may not work.');return()=>{};}};const handleEditorDidMount=(editor,monaco)=>{editorRef.current=editor;monaco.editor.defineTheme('custom-light',{base:'vs',inherit:true,rules:[],colors:{'editor.background':'#f3f4f6'}});monaco.editor.defineTheme('custom-dark',{base:'vs-dark',inherit:true,rules:[],colors:{'editor.background':'#1e1e1e','editor.foreground':'#d4d4d4'}});monaco.editor.setTheme(theme==='dark'?'custom-dark':'custom-light');};const toggleTheme=()=>{setTheme(prev=>prev==='light'?'dark':'light');};const handleRunCode=async()=>{setIsRunning(true);setOutput('');try{let result='';if(language==='javascript'){const oldLog=console.log;const oldError=console.error;let logs=[];console.log=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}logs.push(args.map(a=>typeof a==='object'?JSON.stringify(a):String(a)).join(' '));oldLog.apply(console,args);};console.error=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}logs.push('Error: '+args.map(a=>typeof a==='object'?JSON.stringify(a):String(a)).join(' '));oldError.apply(console,args);};try{eval(code);result=logs.join('\\n')||'Execution completed (no output).';}catch(e){result='Error: '+e.message;}finally{console.log=oldLog;console.error=oldError;}}else if(language==='python'){if(!pyodideLoaded||!pyodideInstance){result='Pyodide is loading... Please wait and try again.';}else{try{pyodideInstance.runPython(\"\\nimport sys\\nfrom io import StringIO\\nsys.stdout = mystdout = StringIO()\\n\");pyodideInstance.runPython(code);const pyResult=pyodideInstance.runPython('mystdout.getvalue()');result=pyResult?String(pyResult):'Execution completed (no output).';}catch(e){result='Error: '+e.message;}}}else if(language==='text'){result=code||'No text entered.';}else{const response=await axios.post('http://localhost:5000/api/execute',{language,code});if(response.data.output){result=response.data.output;}if(response.data.error){result='Error: '+response.data.error;}}setOutput(result);}catch(err){setOutput('Error: '+err.message);}finally{setIsRunning(false);}};// When language changes, show code for that language and clear output\nconst handleLanguageChange=e=>{setLanguage(e.target.value);setOutput('');if(editorRef.current){editorRef.current.focus();}};// Update code for current language only and broadcast to all participants\nconst handleCodeChange=value=>{setCodes(prev=>_objectSpread(_objectSpread({},prev),{},{[language]:value}));if(socketRef.current){socketRef.current.emit('code-change',{roomId,language,code:value,timestamp:Date.now()});if(saveTimeoutRef.current)clearTimeout(saveTimeoutRef.current);saveTimeoutRef.current=setTimeout(()=>{socketRef.current.emit('save-snapshot',{roomId,code:value});},30000);}};// Listen for code-updated events and update only the changed language buffer\nuseEffect(()=>{const handler=data=>{setCodes(prev=>_objectSpread(_objectSpread({},prev),{},{[data.language]:data.code}));};if(socketRef.current){socketRef.current.on('code-updated',handler);}return()=>{if(socketRef.current){socketRef.current.off('code-updated',handler);}};},[]);const handleCursorChange=e=>{if(socketRef.current&&e){socketRef.current.emit('cursor-update',{roomId,position:e.position,selection:e.selection});}};const handleTypingStart=()=>{if(socketRef.current){socketRef.current.emit('typing-start',{roomId});}};const handleTypingStop=()=>{if(socketRef.current){socketRef.current.emit('typing-stop',{roomId});}};const copyRoomId=()=>{navigator.clipboard.writeText(roomId).then(()=>{alert('Room ID copied to clipboard!');}).catch(err=>{console.error('Failed to copy: ',err);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen flex flex-col \".concat(theme==='dark'?'bg-gray-900':'bg-gray-100'),children:[/*#__PURE__*/_jsxs(\"header\",{className:\"shadow px-4 py-2 flex justify-between items-center \".concat(theme==='dark'?'bg-gray-800 text-white':'bg-white'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-xl font-bold\",children:[\"Room: \",roomId]}),/*#__PURE__*/_jsx(\"button\",{onClick:copyRoomId,className:\"px-2 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600\",title:\"Copy Room ID\",children:\"\\uD83D\\uDCCB\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:toggleTheme,className:\"px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded text-sm\",children:[theme==='dark'?'Light':'Dark',\" Mode\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleRunCode,disabled:isRunning,className:\"px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600 disabled:opacity-50\",children:isRunning?'Running...':'Run'}),/*#__PURE__*/_jsx(\"select\",{value:language,onChange:handleLanguageChange,className:\"border rounded px-2 py-1 dark:bg-gray-700 dark:border-gray-600\",children:LANGUAGES.map(lang=>/*#__PURE__*/_jsx(\"option\",{value:lang,children:lang.charAt(0).toUpperCase()+lang.slice(1)},lang))}),/*#__PURE__*/_jsx(Participants,{participants:participants})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-1 overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(Editor,{// <-- Add this line!\nheight:\"70vh\",language:language==='text'?'plaintext':language,value:codes[language],onChange:handleCodeChange,onMount:handleEditorDidMount,theme:theme==='dark'?'vs-dark':'vs',options:{minimap:{enabled:false},fontSize:14,lineNumbers:'on',roundedSelection:false,scrollBeyondLastLine:false,automaticLayout:true},onMouseDown:handleTypingStart,onKeyDown:handleTypingStart,onKeyUp:handleTypingStop,onMouseUp:handleTypingStop},language),typingUsers.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-2 right-2 px-2 py-1 rounded text-sm \".concat(theme==='dark'?'bg-yellow-800 text-yellow-200':'bg-yellow-200'),children:[typingUsers.length,\" user(s) typing...\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"h-[30vh] p-4 overflow-y-auto border-t \".concat(theme==='dark'?'bg-gray-800 border-gray-600 text-white':'bg-gray-100 border-gray-300 text-gray-800'),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Output:\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"whitespace-pre-wrap text-xs\",children:output||'Click Run to see output here...'})]})]}),/*#__PURE__*/_jsx(Chat,{socket:socketRef.current,roomId:roomId,username:username,theme:theme})]})]});};export default CodeEditor;","map":{"version":3,"names":["React","useEffect","useRef","useState","useParams","useLocation","Editor","io","axios","Participants","Chat","jsxs","_jsxs","jsx","_jsx","LANGUAGES","DEFAULT_CODES","javascript","python","c","cpp","java","text","CodeEditor","roomId","location","codes","setCodes","_objectSpread","language","setLanguage","theme","setTheme","participants","setParticipants","typingUsers","setTypingUsers","username","setUsername","output","setOutput","isRunning","setIsRunning","socketRef","editorRef","saveTimeoutRef","pyodideLoaded","setPyodideLoaded","pyodideInstance","setPyodideInstance","code","document","documentElement","classList","toggle","loadPyodideScript","state","cleanup","avatarColor","connectSocket","promptUsername","prompt","colors","color","Math","floor","random","length","err","console","error","alert","user","socket","current","emit","on","data","e","prev","find","p","socketId","filter","id","message","disconnect","handleEditorDidMount","editor","monaco","defineTheme","base","inherit","rules","toggleTheme","handleRunCode","result","oldLog","log","oldError","logs","_len","arguments","args","Array","_key","push","map","a","JSON","stringify","String","join","apply","_len2","_key2","eval","runPython","pyResult","response","post","handleLanguageChange","target","value","focus","handleCodeChange","timestamp","Date","now","clearTimeout","setTimeout","handler","off","handleCursorChange","position","selection","handleTypingStart","handleTypingStop","copyRoomId","navigator","clipboard","writeText","then","catch","className","concat","children","onClick","title","type","disabled","onChange","lang","charAt","toUpperCase","slice","height","onMount","options","minimap","enabled","fontSize","lineNumbers","roundedSelection","scrollBeyondLastLine","automaticLayout","onMouseDown","onKeyDown","onKeyUp","onMouseUp"],"sources":["C:/Users/kukka/OneDrive/Pictures/OneDrive/Desktop/Code_Collab/client/src/components/Editor/Editor.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\nimport Editor from '@monaco-editor/react';\r\nimport io from 'socket.io-client';\r\nimport axios from 'axios';\r\nimport Participants from './Participants';\r\nimport Chat from './Chat';\r\n\r\nconst LANGUAGES = ['javascript', 'python', 'c', 'cpp', 'java', 'text'];\r\n\r\nconst DEFAULT_CODES = {\r\n  javascript: '// Start coding here',\r\n  python: '# Start coding here',\r\n  c: '/* Start coding here */',\r\n  cpp: '// Start coding here',\r\n  java: '// Start coding here',\r\n  text: '',\r\n};\r\n\r\nconst CodeEditor = () => {\r\n  const { roomId } = useParams();\r\n  const location = useLocation();\r\n  const [codes, setCodes] = useState({ ...DEFAULT_CODES });\r\n  const [language, setLanguage] = useState('javascript');\r\n  const [theme, setTheme] = useState('dark');\r\n  const [participants, setParticipants] = useState([]);\r\n  const [typingUsers, setTypingUsers] = useState([]);\r\n  const [username, setUsername] = useState('');\r\n  const [output, setOutput] = useState('');\r\n  const [isRunning, setIsRunning] = useState(false);\r\n  const socketRef = useRef();\r\n  const editorRef = useRef();\r\n  const saveTimeoutRef = useRef();\r\n\r\n  // Add state for pyodide loading and instance\r\n  const [pyodideLoaded, setPyodideLoaded] = useState(false);\r\n  const [pyodideInstance, setPyodideInstance] = useState(null);\r\n\r\n  // Get current code for selected language\r\n  const code = codes[language];\r\n\r\n  useEffect(() => {\r\n    document.documentElement.classList.toggle('dark', theme === 'dark');\r\n  }, [theme]);\r\n\r\n  // Pyodide loader (you will fix this part yourself)\r\n  useEffect(() => {\r\n    async function loadPyodideScript() {\r\n      // ...your pyodide loader here...\r\n    }\r\n    loadPyodideScript();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const state = location.state;\r\n    let cleanup;\r\n    try {\r\n      if (state && state.username && state.avatarColor) {\r\n        setUsername(state.username);\r\n        cleanup = connectSocket(state.username, state.avatarColor);\r\n      } else {\r\n        const promptUsername = prompt('Enter your username:');\r\n        if (promptUsername) {\r\n          setUsername(promptUsername);\r\n          const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#DDA0DD'];\r\n          const color = colors[Math.floor(Math.random() * colors.length)];\r\n          cleanup = connectSocket(promptUsername, color);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to initialize editor:', err);\r\n      alert('Failed to connect to the room. Please check if the server is running on port 5000 and try again.');\r\n    }\r\n    return cleanup || (() => {});\r\n  }, [roomId]);\r\n\r\n  const connectSocket = (user, color) => {\r\n    try {\r\n      const socket = io('http://localhost:5000');\r\n      socketRef.current = socket;\r\n\r\n      socket.emit('join-room', {\r\n        roomId,\r\n        username: user,\r\n        avatarColor: color\r\n      });\r\n\r\n      socket.on('room-joined', (data) => {\r\n        try {\r\n          setCodes(data.codes || { ...DEFAULT_CODES });\r\n          setLanguage(data.language || 'javascript');\r\n          setParticipants(data.participants);\r\n        } catch (e) {\r\n          console.error('Error handling room-joined:', e);\r\n        }\r\n      });\r\n\r\n      socket.on('code-updated', (data) => {\r\n        try {\r\n          setCodes(prev => ({\r\n            ...prev,\r\n            [data.language]: data.code\r\n          }));\r\n        } catch (e) {\r\n          console.error('Error handling code-updated:', e);\r\n        }\r\n      });\r\n\r\n      socket.on('cursor-moved', (data) => {\r\n        try {\r\n          // Cursor handling removed\r\n        } catch (e) {\r\n          console.error('Error handling cursor-moved:', e);\r\n        }\r\n      });\r\n\r\n      socket.on('user-joined', (data) => {\r\n        try {\r\n          setParticipants(prev => {\r\n            if (prev.find(p => p.socketId === data.socketId)) {\r\n              return prev;\r\n            }\r\n            return [...prev, data];\r\n          });\r\n        } catch (e) {\r\n          console.error('Error handling user-joined:', e);\r\n        }\r\n      });\r\n\r\n      socket.on('user-left', (data) => {\r\n        try {\r\n          setParticipants(prev => prev.filter(p => p.socketId !== data.socketId));\r\n        } catch (e) {\r\n          console.error('Error handling user-left:', e);\r\n        }\r\n      });\r\n\r\n      socket.on('user-typing', (data) => {\r\n        try {\r\n          setTypingUsers(prev => [...prev, data.socketId]);\r\n        } catch (e) {\r\n          console.error('Error handling user-typing:', e);\r\n        }\r\n      });\r\n\r\n      socket.on('user-stopped-typing', (data) => {\r\n        try {\r\n          setTypingUsers(prev => prev.filter(id => id !== data.socketId));\r\n        } catch (e) {\r\n          console.error('Error handling user-stopped-typing:', e);\r\n        }\r\n      });\r\n\r\n      socket.on('error', (data) => {\r\n        try {\r\n          console.error('Socket error:', data.message);\r\n          alert('Connection error: ' + data.message);\r\n        } catch (e) {\r\n          console.error('Error in error handler:', e);\r\n        }\r\n      });\r\n\r\n      socket.on('connect_error', (err) => {\r\n        try {\r\n          console.error('Connection error:', err);\r\n          alert('Failed to connect to server: ' + err.message + '. Please ensure the server is running on port 5000.');\r\n        } catch (e) {\r\n          console.error('Error in connect_error handler:', e);\r\n        }\r\n      });\r\n\r\n      return () => {\r\n        if (socketRef.current) {\r\n          socketRef.current.emit('leave-room');\r\n          socketRef.current.disconnect();\r\n        }\r\n      };\r\n    } catch (err) {\r\n      console.error('Failed to create socket connection:', err);\r\n      alert('Failed to establish real-time connection. You can still edit locally, but collaboration features may not work.');\r\n      return () => {};\r\n    }\r\n  };\r\n\r\n  const handleEditorDidMount = (editor, monaco) => {\r\n    editorRef.current = editor;\r\n    monaco.editor.defineTheme('custom-light', {\r\n      base: 'vs',\r\n      inherit: true,\r\n      rules: [],\r\n      colors: {\r\n        'editor.background': '#f3f4f6',\r\n      }\r\n    });\r\n    monaco.editor.defineTheme('custom-dark', {\r\n      base: 'vs-dark',\r\n      inherit: true,\r\n      rules: [],\r\n      colors: {\r\n        'editor.background': '#1e1e1e',\r\n        'editor.foreground': '#d4d4d4',\r\n      }\r\n    });\r\n    monaco.editor.setTheme(theme === 'dark' ? 'custom-dark' : 'custom-light');\r\n  };\r\n\r\n  const toggleTheme = () => {\r\n    setTheme(prev => prev === 'light' ? 'dark' : 'light');\r\n  };\r\n\r\n  const handleRunCode = async () => {\r\n    setIsRunning(true);\r\n    setOutput('');\r\n    try {\r\n      let result = '';\r\n      if (language === 'javascript') {\r\n        const oldLog = console.log;\r\n        const oldError = console.error;\r\n        let logs = [];\r\n        console.log = (...args) => {\r\n          logs.push(args.map(a => typeof a === 'object' ? JSON.stringify(a) : String(a)).join(' '));\r\n          oldLog.apply(console, args);\r\n        };\r\n        console.error = (...args) => {\r\n          logs.push('Error: ' + args.map(a => typeof a === 'object' ? JSON.stringify(a) : String(a)).join(' '));\r\n          oldError.apply(console, args);\r\n        };\r\n        try {\r\n          eval(code);\r\n          result = logs.join('\\n') || 'Execution completed (no output).';\r\n        } catch (e) {\r\n          result = 'Error: ' + e.message;\r\n        } finally {\r\n          console.log = oldLog;\r\n          console.error = oldError;\r\n        }\r\n      } else if (language === 'python') {\r\n        if (!pyodideLoaded || !pyodideInstance) {\r\n          result = 'Pyodide is loading... Please wait and try again.';\r\n        } else {\r\n          try {\r\n            pyodideInstance.runPython(`\r\nimport sys\r\nfrom io import StringIO\r\nsys.stdout = mystdout = StringIO()\r\n`);\r\n            pyodideInstance.runPython(code);\r\n            const pyResult = pyodideInstance.runPython('mystdout.getvalue()');\r\n            result = pyResult ? String(pyResult) : 'Execution completed (no output).';\r\n          } catch (e) {\r\n            result = 'Error: ' + e.message;\r\n          }\r\n        }\r\n      } else if (language === 'text') {\r\n        result = code || 'No text entered.';\r\n      } else {\r\n        const response = await axios.post('http://localhost:5000/api/execute', { language, code });\r\n        if (response.data.output) {\r\n          result = response.data.output;\r\n        }\r\n        if (response.data.error) {\r\n          result = 'Error: ' + response.data.error;\r\n        }\r\n      }\r\n      setOutput(result);\r\n    } catch (err) {\r\n      setOutput('Error: ' + err.message);\r\n    } finally {\r\n      setIsRunning(false);\r\n    }\r\n  };\r\n\r\n  // When language changes, show code for that language and clear output\r\n  const handleLanguageChange = (e) => {\r\n    setLanguage(e.target.value);\r\n    setOutput('');\r\n    if (editorRef.current) {\r\n      editorRef.current.focus();\r\n    }\r\n  };\r\n\r\n  // Update code for current language only and broadcast to all participants\r\n  const handleCodeChange = (value) => {\r\n    setCodes(prev => ({\r\n      ...prev,\r\n      [language]: value\r\n    }));\r\n    if (socketRef.current) {\r\n      socketRef.current.emit('code-change', {\r\n        roomId,\r\n        language,\r\n        code: value,\r\n        timestamp: Date.now()\r\n      });\r\n      if (saveTimeoutRef.current) clearTimeout(saveTimeoutRef.current);\r\n      saveTimeoutRef.current = setTimeout(() => {\r\n        socketRef.current.emit('save-snapshot', { roomId, code: value });\r\n      }, 30000);\r\n    }\r\n  };\r\n\r\n  // Listen for code-updated events and update only the changed language buffer\r\n  useEffect(() => {\r\n    const handler = (data) => {\r\n      setCodes(prev => ({\r\n        ...prev,\r\n        [data.language]: data.code\r\n      }));\r\n    };\r\n    if (socketRef.current) {\r\n      socketRef.current.on('code-updated', handler);\r\n    }\r\n    return () => {\r\n      if (socketRef.current) {\r\n        socketRef.current.off('code-updated', handler);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const handleCursorChange = (e) => {\r\n    if (socketRef.current && e) {\r\n      socketRef.current.emit('cursor-update', {\r\n        roomId,\r\n        position: e.position,\r\n        selection: e.selection\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleTypingStart = () => {\r\n    if (socketRef.current) {\r\n      socketRef.current.emit('typing-start', { roomId });\r\n    }\r\n  };\r\n\r\n  const handleTypingStop = () => {\r\n    if (socketRef.current) {\r\n      socketRef.current.emit('typing-stop', { roomId });\r\n    }\r\n  };\r\n\r\n  const copyRoomId = () => {\r\n    navigator.clipboard.writeText(roomId).then(() => {\r\n      alert('Room ID copied to clipboard!');\r\n    }).catch(err => {\r\n      console.error('Failed to copy: ', err);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={`h-screen flex flex-col ${theme === 'dark' ? 'bg-gray-900' : 'bg-gray-100'}`}>\r\n      <header className={`shadow px-4 py-2 flex justify-between items-center ${theme === 'dark' ? 'bg-gray-800 text-white' : 'bg-white'}`}>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <h1 className=\"text-xl font-bold\">Room: {roomId}</h1>\r\n          <button\r\n            onClick={copyRoomId}\r\n            className=\"px-2 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600\"\r\n            title=\"Copy Room ID\"\r\n          >\r\n            ðŸ“‹\r\n          </button>\r\n        </div>\r\n        <div className=\"flex items-center space-x-4\">\r\n          <button\r\n            onClick={toggleTheme}\r\n            className=\"px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded text-sm\"\r\n          >\r\n            {theme === 'dark' ? 'Light' : 'Dark'} Mode\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleRunCode}\r\n            disabled={isRunning}\r\n            className=\"px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600 disabled:opacity-50\"\r\n          >\r\n            {isRunning ? 'Running...' : 'Run'}\r\n          </button>\r\n          <select\r\n            value={language}\r\n            onChange={handleLanguageChange}\r\n            className=\"border rounded px-2 py-1 dark:bg-gray-700 dark:border-gray-600\"\r\n          >\r\n            {LANGUAGES.map(lang => (\r\n              <option key={lang} value={lang}>\r\n                {lang.charAt(0).toUpperCase() + lang.slice(1)}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <Participants participants={participants} />\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"flex flex-1 overflow-hidden\">\r\n        <div className=\"flex-1 flex flex-col relative\">\r\n          <div className=\"flex-1 relative\">\r\n            <Editor\r\n              key={language} // <-- Add this line!\r\n              height=\"70vh\"\r\n              language={language === 'text' ? 'plaintext' : language}\r\n              value={codes[language]}\r\n              onChange={handleCodeChange}\r\n              onMount={handleEditorDidMount}\r\n              theme={theme === 'dark' ? 'vs-dark' : 'vs'}\r\n              options={{\r\n                minimap: { enabled: false },\r\n                fontSize: 14,\r\n                lineNumbers: 'on',\r\n                roundedSelection: false,\r\n                scrollBeyondLastLine: false,\r\n                automaticLayout: true,\r\n              }}\r\n              onMouseDown={handleTypingStart}\r\n              onKeyDown={handleTypingStart}\r\n              onKeyUp={handleTypingStop}\r\n              onMouseUp={handleTypingStop}\r\n/>\r\n            {typingUsers.length > 0 && (\r\n              <div className={`absolute top-2 right-2 px-2 py-1 rounded text-sm ${theme === 'dark' ? 'bg-yellow-800 text-yellow-200' : 'bg-yellow-200'}`}>\r\n                {typingUsers.length} user(s) typing...\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className={`h-[30vh] p-4 overflow-y-auto border-t ${\r\n            theme === 'dark'\r\n              ? 'bg-gray-800 border-gray-600 text-white'\r\n              : 'bg-gray-100 border-gray-300 text-gray-800'\r\n          }`}>\r\n            <h3 className=\"font-semibold mb-2\">Output:</h3>\r\n            <pre className=\"whitespace-pre-wrap text-xs\">{output || 'Click Run to see output here...'}</pre>\r\n          </div>\r\n        </div>\r\n        <Chat socket={socketRef.current} roomId={roomId} username={username} theme={theme} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CodeEditor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}